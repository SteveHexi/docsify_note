# 常用软件

常用软件和设置

## 1 window设置

1. 关闭通知

    打开Windows设置-系统-通知和操作-全部关闭

2. 修改存储

    打开Windows设置-系统-存储-更多存储设置-更改新内容的存储位置

3. 修改个性化

    打开Windows设置-系统-个性化

    1. 颜色-透明效果-开

    2. 开始-使用全屏"开始"屏幕-开(其它全关)

    3. 任务栏-锁定任务栏,桌面模式下自动隐藏任务栏-开(其它全关)

4. 修改应用

    打开Windows设置-系统-应用-启动-除了TranslucentTB全关

5. 修改时间和语言

    1.打开Windows设置-系统-时间和语言-语言-添加中文简体和英语两种语言,部分场景使用英语

    2.点击上方语言中的键盘-输入语言热键-修改快捷键

6. 修改隐私

    打开Windows设置-系统-隐私-常规-全关

7. 修改更新

    打开Windows设置-系统-更新和安全

    1. Windows更新-高级选项-全关

    2. 关闭自动更新-win+r→输入“regedit”-HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsUpdate\UX\Settings→新建→DWORD(32位)→名称“FlightSettingsMaxPauseDays”→修改为十六进制9999

    3. 传递优化-关

## 2 VMware

### 2.1 下载VMware

[<i class="fas fa-globe"></i>VMware官网](https://support.broadcom.com/group/ecx/productdownloads?subfamily=VMware%20Workstation%20Pro&amp;freeDownloads=true)

### 2.2 安装VMware

选择好安装位置,正常安装即可

## 3 CentOS

[<i class="fas fa-globe"></i>CentOS官网](https://www.centos.org/)

### 3.1 CentOS安装

1. VMware-创建新的虚拟机(一直点击下一步即可)

2. 选择CentOS的ISO镜像文件

3. 修改Linux系统的显示名称,安装位置,设置普通用户hexi/hexi

4. 设置磁盘大小(20G),修改硬件设置(2G)

5. 等待安装

6. VMware-开启虚拟机

7. 设置用户名密码root/root

8. 右上角设置时区为shanghai

9. 右键,Open Terminal,打开终端,输入命令ifconfig查看ip

## 4 Linux

### 4.1 Linux目录

1. bin -> usr/bin:这个目录存放最经常使用的命令

2. boot:这个目录存放启动Linux时使用的一些核心文件,包括一些连接文件以及镜像文件

3. dev:dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备,Linux中的设备也是以文件的形式存在

4. etc:这个目录存放所有的系统管理所需要的配置文件

5. home:用户的主目录,在Linux中,每个用户都有一个自己的目录,一般该目录名以用户的账号命名

6. lib->user/lib:这个目录存放着系统最基本的动态连接共享库,其作用类似于Windows里的DLL文件,几乎所有的应用程序都需要用到这些共享库

7. mnt:系统提供该目录是为了让用户临时挂载别的文件系统,我们可以将光驱挂载在/mnt/上,然后进入该目录就可以查看光驱里的内容

8. opt:这是给linux额外安装软件所存放的目录.比如你安装一个Oracle数据库则就可以放到这个目录下,默认为空

9. root:该目录为系统管理员目录,root是具有超级权限的用户

10. tmp:这个目录是用来存放一些临时文件的

11. usr:这是一个非常重要的目录,用户的很多应用程序和文件都放在这个目录下,类似与windows下的program files目录

12. var:这个目录存放着在不断扩充着的东西,我们习惯将那些经常被修改的文件存放在该目录下,比如运行的各种日志文件

### 4.2 设置不启动图形界面

1. 设置为命令行模式

    ```shell
    sudo systemctl set-default multi-user.target
    ```

2. 重启系统

    ```shell
    sudo reboot
    ```

3. 恢复图形界面

    ```shell
    sudo systemctl set-default graphical.target
    ```

4. 临时切换为命令行模式

    ```shell
    sudo init 3
    ```

5. 临时切换为图形界面

    ```shell
    sudo init 5
    ```

### 4.3 设置静态ip

1. VNware-编辑-虚拟网络编辑器

2. 将虚拟机的网络模式设置为NAT模式(默认就是NAT模式),记住相关信息

    名称|设置
    :---|:---
    网络|VMnet8
    子网IP|192.168.213.0
    子网掩码|255.255.255.0
    网关|192.168.213.2

3. 本机-设置-网络-网络和共享中心-更张适配器设置-VMnet8-属性-IPV4属性-修改为使用下面IP-确定

    名称|设置|说明
    :---|:---|:---
    网络|VMnet8|与上面一样
    子网IP|192.168.213.1|与上面不一样
    子网掩码|255.255.255.0|与上面一样
    网关|192.168.213.2|与上面一样

4. 修改配置文件ifcfg-ens33

    ```shell
    cd /etc/sysconfig/network-scripts
    ```

    ```xml
    TYPE="Ethernet"
    PROXY_METHOD="none"
    BROWSER_ONLY="no"
    # 静态
    BOOTPROTO="static"
    DEFROUTE="yes"
    IPV4_FAILURE_FATAL="no"
    IPV6INIT="yes"
    IPV6_AUTOCONF="yes"
    IPV6_DEFROUTE="yes"
    IPV6_FAILURE_FATAL="no"
    IPV6_ADDR_GEN_MODE="stable-privacy"
    NAME="ens33"
    UUID="143693d8-b376-4657-871c-cc0a40ca8e88"
    # 配置相关信息
    DEVICE="ens33"
    ONBOOT="yes"
    IPV6_PRIVACY="no"
    # 下面的ip即为虚拟机的ip
    IPADDR=192.168.213.129
    NETMASK=255.255.255.0
    GATEWAY=192.168.213.2
    DNS1=8.8.8.8
    ```

5. 重启网络

    ```shell
    service network restart
    ```

### 4.4 yum命令

CentOS7的官方支持已经结束,部分仓库已被移至归档库

1. 进入/etc/yum.repos.d目录下找到 CentOS-Base.repo

    ```shell
    cd /etc/yum.repos.d
    ```

2. 复制文件

    ```shell
    cp  CentOS-Base.repo   CentOS-Base.repo.backup
    ```

3. 修改文件CentOS-Base.repo,:wq保存

    ```shell
    vi CentOS-Base.repo
    ```

    ```xml
    # CentOS-Base.repo
    #
    # The mirror system uses the connecting IP address of the client and the
    # update status of each mirror to pick mirrors that are updated to and
    # geographically close to the client.  You should use this for CentOS updates
    # unless you are manually picking other mirrors.
    #
    # If the mirrorlist= does not work for you, as a fall back you can try the 
    # remarked out baseurl= line instead.
    #
    #
    
    [base]
    name=CentOS-$releasever - Base
    #mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os&amp;infra=$infra
    #baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/
    #baseurl=http://vault.centos.org/7.9.2009/x86_64/os/
    baseurl=http://vault.centos.org/7.9.2009/os/$basearch/
    gpgcheck=1
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    
    #released updates 
    [updates]
    name=CentOS-$releasever - Updates
    #mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates&amp;infra=$infra
    #baseurl=http://mirror.centos.org/centos/$releasever/updates/$basearch/
    #baseurl=http://vault.centos.org/7.9.2009/x86_64/os/
    baseurl=http://vault.centos.org/7.9.2009/updates/$basearch/
    gpgcheck=1
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    
    #additional packages that may be useful
    [extras]
    name=CentOS-$releasever - Extras
    #mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra
    #$baseurl=http://mirror.centos.org/centos/$releasever/extras/$basearch/
    #baseurl=http://vault.centos.org/7.9.2009/x86_64/os/
    baseurl=http://vault.centos.org/7.9.2009/extras/$basearch/
    gpgcheck=1
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    
    #additional packages that extend functionality of existing packages
    [centosplus]
    name=CentOS-$releasever - Plus
    #mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus&amp;infra=$infra
    #baseurl=http://mirror.centos.org/centos/$releasever/centosplus/$basearch/
    #baseurl=http://vault.centos.org/7.9.2009/x86_64/os/
    baseurl=http://vault.centos.org/7.9.2009/centosplus/$basearch/
    gpgcheck=1
    enabled=0
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
    ```

4. 清理缓存

    ```shell
    sudo yum clean all
    ```

    ```shell
    sudo yum makecache
    ```

5. 更换为阿里云镜像源,选择一个即可

    ```shell
    curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
    ```

    ```shell
    wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
    ```

6. 确认更改

    ```shell
    cat CentOS-Base.repo
    ```

7. 再次清理缓存

    ```shell
    sudo yum clean all
    ```

    ```shell
    sudo yum makecache
    ```

### 4.5 Liunx命令

[<i class="fas fa-paperclip"></i>跳转到Liunx命令页面](计算机/常用命令.md?id=_2-linux)

## 5 Xshell

1. 安装,正常下一步即可

2. 设置连接信息

    设置|内容
    :---|:---
    名称|自定义
    协议|SSH
    主机|服务器ip
    端口号|默认22
    用户密码|服务器用户密码
    终端类型|Linux

3. 首次使用会提示SSH安全警告,接受并保存即可

4. 软件乱码

    选项-会话选项-字符编码选UTF-8

## 6 Xftp5

同Xshell

## 7 Java

### 7.1 Java安装-Windows

1. Java下载

    [<i class="fas fa-globe"></i>Java官网](https://www.oracle.com/cn/java/technologies/downloads/archive/)

2. 选择安装位置,默认下一步即可

3. 验证JDK安装是否成功

    1. 安装位置的bin目录

    2. 在地址栏中输入cmd,DOS命令窗口

    3. javac

4. 配置环境变量

    1. 复制JDK的bin目录,D:\JDK\bin

    2. 我的电脑-右击-属性-高级系统设置-高级-环境变量

    3. 环境变量-编辑path,添加 D:\JDK\bin

    4. 系统变量-新建JAVA_HOME-设置值为 D:\JDK

5. 打开任意DOS命令窗口,javac

### 7.2 Java安装-Linux-yum

1. 查看系统是否自带了jdk

    ```shell
    rpm -qa |grep java
    ```

    ```shell
    rpm -qa |grep jdk
    ```

    ```shell
    rpm -qa |grep gcj
    ```

2. 如果有输出信息，批量卸载系统自带

    ```shell
    rpm -qa | grep java | xargs rpm -e --nodeps
    ```

3. 检查yum中是否含有java1.8的安装包

    ```shell
    yum list java-1.8*
    ```

4. 安装

    ```shell
    yum install java-1.8.0-openjdk* -y
    ```

5. 验证

    ```shell
    java -version
    ```

### 7.3 Java安装-Linux-chmod

1. 添加可执行权限

    ```shell
    chmod +x jdk-8u151-linux-x64.rpm
    ```

2. 安装

    ```shell
    rpm -ivh jdk-8u151-linux-x64.rpm
    ```

3. 测试

    ```shell
    java -version
    ```

## 8 VSCode

### 8.1 VSCode下载

[<i class="fas fa-globe"></i>VSCode官网](https://code.visualstudio.com/)

### 8.3 VSCode设置

### 8.4 VSCode快捷键

## 9 idea

### 9.1 安装

### 9.2 设置

1. 设置序列化版本

    Editor-inspections-Seri
     serialVersionUID

### 9.3 插件

### 9.4 快捷键

[<i class="fas fa-paperclip"></i>跳转到idea快捷键](计算机/常用命令.md#_31-idea快捷键)

## 10 docsify

### 10.1 docsify安装

### 10.2 docsify设置

### 10.3 docsify注意事项

### 10.4 docsify插件

#### 10.4.1 flexible-alerts

!> **待办** 这是一个重要且紧急的任务,需要优先处理.

?> **注意**:这是一个需要注意的任务或说明

键|允许的值|说明
:---|:---|:---
!type|NOTE,TIP,WARNING和DANGER|警告级别设置
style|以下值之一:callout(默认),flat|警告样式
label|任何文字|警告块的标题位置,即Note这个字段位置(不支持中文)
icon|比如:fa fa-info-circle|一个有效的Font Awesome图标,那块小符号
className|CSS类的名称|指定css文件,用于指定外观
labelVisibility|以下值之一:visible(默认),hidden|标签是否可见
iconVisibility|以下值之一:visible(默认),hidden|图标是否可见

\> [!NOTE]

\> 本章节未完成

> [!NOTE]
> 本章节未完成

\> [!TIP]

\> 本章节未完成

> [!TIP]
> 本章节未完成

\> [!WARNING]

\> 本章节未完成

> [!WARNING]
> 本章节未完成

\> [!DANGER]

\> 本章节未完成

> [!DANGER]
> 本章节未完成

\> [!todo]

\> 本章节未完成

> [!todo]
> 本章节未完成

\>[!NOTE|style:flat|lable:Mylable|iconVisibility:hidden]

\>“!type”:NOTE、“style”:flat、“lable”:自定义标签、图标不可见

>[!NOTE|style:flat|lable:Mylable|iconVisibility:hidden]
>“!type”:NOTE、“style”:flat、“lable”:自定义标签、图标不可见

#### 10.3.2 font-awesome

[<i class="fas fa-plane"></i>跳转官网](https://fontawesome.com/icons?d=gallery&amp;m=free)

## 11 tomcat

安装前先确认支持的jdk版本

[<i class="fas fa-globe"></i>tomcat](https://tomcat.apache.org/whichversion.html)

Servlet Spec|Pages Spec|JDSOL Spec|EL Spec|WebSocket Spec|Authentication Spec (JASPIC)|Annotation Spec|Apache Tomcat Version|Latest Released Version|Supported Java Versions
:---|:---|:---|:---|:---|:---|:---|:---|:---|:---
6.1|4.0|2.0|6.0|2.2|3.1|3.0|11.0.x|11.0.11|17 and later
6.0|3.1|2.0|5.0|2.1|3.0|2.1|10.1.x|10.1.46|11 and later
4.0|2.3|1.0|3.0|1.1|1.1|1.3|9.0.x|9.0.109|8 and later

### 11.1 tomcat-windows

1. 下载

    [<i class="fas fa-globe"></i>tomcat](https://tomcat.apache.org/)

2. tomcat9是免安装版,只要将压缩包解压即为安装成功

3. 配置环境变量

    1. 复制tomcat地址D:\Tools_JAVA\apache-tomcat

    2. 我的电脑-右击-属性-高级系统设置-高级-环境变量

    3. 系统变量-新建

        1. CATALINA_BASE

            D:\Tools_JAVA\apache-tomcat

        2. CATALINA_HOME

            D:\Tools_JAVA\apache-tomcat

        3. CATALINA_TMPDIR

            %CATALINA_BASE%\temp

4. tomcat服务器启动与关闭

    1. 启动命令:startup

    2. 关闭命令:shutdown

### 11.2 tomcat-Linux

1. 移动安装包到root根目录下

2. 解压tomcat压缩包

    ```shell
    tar -zxvf apache-tomcat-9.0.108.tar.gz -C /usr/local
    ```

3. 重启tomcat

    ```shell
    ./apache-tomcat/bin/shutdown.sh
    ```

    ```shell
    ./apache-tomcat/bin/startup.sh
    ```

### 11.3 部署war包

1. 导出web应用为war包

2. 使用Xftp上传到Tomcat的webapps目录

3. 启动Tomcat切换到bin目录

    ```shell
    ./startup.sh
    ```

4. 访问web应用

## 12 MySQL

### 12.1 MySQL下载

### 12.2 MySQL-windows

### 12.3 MySQL-Linux

1. xftp移动安装包到根目录下

2. 检查系统是否安装了mariadb数据库

    mariadb和msyql会有冲突

    1. 检查是否有mariadb

        ```shell
        yum list installed | grep mariadb
        ```

    2. 卸载mariadb

        ```shell
        yum -y remove mariadb-libs.x86_64
        ```

3. 切换到根目录,解压下载的mysql软件压缩包

    ```shell
    tar -zxvf mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz -C /usr/local/
    ```

4. 修改解压后的文件名

    ```shell
    mv mysql-5.7.18-linux-glibc2.5-x86_64 mysql
    ```

5. 切换到mysql目录下,创建数据文件夹data

    data文件夹是mysql用来存放数据库文件

    ```shell
    mkdir data
    ```

6. 创建用户执行mysqld命令

    ```shell
    useradd mysql
    ```

7. 切换到mysql-5.7.18/bin,初始化MySQL

    ```shell
    ./mysqld --initialize --user=mysql --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql
    ```

    --initialize 初始化mysql,创建mysql的root,随机生成密码.记住密码,登录msyql使用.

    --user 执行msyqld,命令的linux用户名

    --datadir 数据文件的存放位置

    --basedir 安装程序的目录

8. 复制上一步生成的密码)%GOI(R8t#78

9. 启用安全功能

    ```shell
    ./mysql_ssl_rsa_setup --datadir=/usr/local/mysql/data
    ```

10. 修改mysql安装目录的权限,切换/usr/local/目录

    ```shell
    chown -R mysql:mysql /usr/local/mysql/
    ```

11. 启动MySQL,切换mysql-5.7.18/bin目录

    ```shell
    ./mysqld_safe &amp;
    ```

12. 进入mysql,输入账号密码,mysql里的命令必须有;

    ```shell
    ./mysql -uroot -p
    ```

13. 修改root密码

    ```shell
    show databases;
    ```

    页面提示修改密码

    ```shell
    alter user 'root'@'localhost' identified by '123456';
    ```

14. 授权远程访问(进入mysql客户端后命令带;)

    ```shell
    grant all privileges on *.* to root@'%' identified by '123456';
    ```

    *.* 所有数据库名的数据库表

    root@'%' root表示用户名

    %表示ip地址,也可以指定具体的ip地址

15. 更新权限信息

    ```shell
    flush privileges;
    ```

16. 测试连接

    Navicat连接失败可能是防火墙问题,关闭防火墙

    [<i class="fas fa-paperclip"></i>关闭防火墙](计算机/常用命令?id=_344-防火墙)

17. 关闭客户端

    ```shell
    exit;
    ```

18. 停止mysql服务器,切换mysql-5.7.18/bin

    ```shell
    ./mysqladmin -uroot -p shutdown
    ```

### 12.4 设置开机自动启动

1. 复制MySQL启动脚本到/etc/rc.d/init.d/

    ```shell
    cp /usr/local/mysql/support-files/mysql.server /etc/rc.d/init.d/mysql
    ```

2. 赋予执行权限

    ```shell
    chmod +x /etc/init.d/mysql
    ```

3. 添加为系统服务

    ```shell
    chkconfig --add mysql
    ```

4. 设置开机自启,运行级别3,4,5

    ```shell
    chkconfig --level 345 mysql on
    ```

5. 重启系统并验证

    ```shell
    reboot
    ```

    ```shell
    chkconfig --list mysql
    ```

## 13 Redis

### 13.1 Redis下载

### 13.2 Redis-windows

### 13.3 Redis-Linux

1. xftp移动安装包到根目录下

    [<i class="fas fa-globe"></i>Redis下载](https://redis.io/downloads/)

    [<i class="fas fa-globe"></i>Redis历史版本](https://download.redis.io/releases/)

2. 切换到根目录,解压下载的Redis软件压缩包

    ```shell
    tar -zxvf redis-6.2.14.tar.gz -C /usr/local/
    ```

3. 修改解压后的文件名

    ```shell
    mv redis-6.2.14.tar.gz redis
    ```

4. 切换到redis目录，执行make命令

5. 切换到redis/src/启动redis服务

    ```shell
    ./redis-server &
    ```

### 13.4 设置开机自动启动

1. 修改Redis配置文件,daemonize设置为yes

    ```shell
    cd /usr/local/redis/bin
    ```

    ```shell
    vim redis.conf
    ```

2. 在/etc/systemd/system/目录下创建一个新的服务文件redis.service

    ```shell
    cd /etc/systemd/system
    ```

    ```shell
    touch redis.service
    ```

    ```shell
    vim /etc/systemd/system/redis.service
    ```shell

3. 修改文件

    ```xml
    [Unit]
    Description=redis-server
    After=network.target

    [Service]
    Type=forking
    ExecStart=/usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf
    PrivateTmp=true

    [Install]
    WantedBy=multi-user.target
    ```

4. 启用并启动服务

    ```shell
    systemctl daemon-reload
    ```

    ```shell
    systemctl enable redis
    ```

    ```shell
    systemctl start redis
    ```

5. 验证服务状态

    ```shell
    systemctl status redis
    ```

## 14 node

## 15 Nginx

### 15.1 Nginx下载

[<i class="fas fa-globe"></i>Nginx官网](http://nginx.org)

### 15.2 Nginx安装-windows

1. 将下载下来的nginx压缩包解压到一个目录下就可以启动使用了

2. 启动方式

    1. 双击解压目录下的nginx.exe文件即可运行nginx；

    2. 进入dos窗口,切换到nginx主目录下

    ```shell
    start nginx
    ```

3. 关闭方式

    1. 在资源管理器杀掉Nginx进程(有两个进程)

    2. 在dos窗口切换到Nginx安装主目录

        ```shell
        nginx -s stop
        ```

### 15.3 Nginx安装-Liunx

1. 下载

    ```shell
    wget http://nginx.org/download/nginx-1.2.9.0.tar.gz
    ```

2. 是否安装gcc编译器

    1. 检查

        ```shell
        yum list installed | grep gcc
        ```

    2. 安装

        ```shell
        yum install gcc -y
        ```

3. 是否安装openssl库

    1. 检查

        ```shell
        yum list installed | grep openssl
        ```

    2. 安装

        ```shell
        yum install openssl openssl-devel -y
        ```

4. 是否安装pcre库

    1. 检查

        ```shell
        yum list installed | grep pcre
        ```

    2. 安装

        ```shell
        yum install pcre pcre-devel -y
        ```

5. 是否安装zlib库

    1. 检查

        ```shell
        yum list installed | grep zlib
        ```

    2. 安装

        ```shell
        yum install zlib zlib-devel -y
        ```

6. 一次性安装

    ```shell
    yum install gcc openssl openssl-devel pcre pcre-devel zlib zlib-devel -y
    ```

7. 解压下载下来的nginx文件

    ```shell
    tar -zxvf nginx-1.14.2.tar.gz
    ```

8. 切换至解压后的nginx主目录,--prefix是指定nginx安装路径

    ```shell
    ./configure --prefix=/usr/local/nginx
    ```

9. 编译

    ```shell
    make
    ```

10. 安装

    ```shell
    make install
    ```

11. 普通启动,切换到nginx安装目录的sbin目录下

    ```shell
    ./nginx
    ```

12. 通过配置文件启动

    ```shell
    ./nginx -c /usr/local/nginx/conf/nginx.conf
    ```

    ```shell
    /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf
    ```

13. 检查Nginx是否启动

    ```shell
    ps -ef | grep nginx
    ```

14. 在浏览器中访问Nginx服务器(默认80端口)

15. 关闭Nginx

    1. 找出nginx的进程号

        ```shell
        ps -ef | grep nginx
        ```

    2. 优雅关闭

        ```shell
        kill -QUIT 主pid
        ```

    3. 快速关闭

        ```shell
        kill -TERM 主pid
        ```

16. 重启Nginx

    ```shell
    ./nginx -s reload
    ```

17. 配置检查

    当修改Nginx配置文件后,可以使用Nginx命令进行配置文件语法检查,用于检查Nginx配置文件是否正确

    ```shell
    /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf -t
    ```

18. 查看nginx版本

    1. 版本

        ```shell
        /usr/local/nginx/sbin/nginx -v
        ```

    2. 版本,参数

        ```shell
        /usr/local/nginx/sbin/nginx -V
        ```

### 15.4 设置开机启动

1. 在/etc/systemd/system/目录下创建一个新的服务文件redis.service

    ```shell
    cd /etc/systemd/system
    ```

    ```shell
    touch nginx.service
    ```

    ```shell
    vim /etc/systemd/system/nginx.service
    ```shell

2. 修改文件

    ```xml
    [Unit]
    Description=nginx - high performance web server
    Documentation=http://nginx.org/en/docs/
    After=network.target remote-fs.target nss-lookup.target

    [Service]
    Type=forking
    PIDFile=/usr/local/nginx/logs/nginx.pid
    ExecStartPre=/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf
    ExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf
    ExecReload=/usr/local/nginx/sbin/nginx -s reload
    ExecStop=/usr/local/nginx/sbin/nginx -s stop
    PrivateTmp=true

    [Install]
    WantedBy=multi-user.target
    ```

3. 启用并启动服务

    ```shell
    systemctl daemon-reload
    ```

    ```shell
    systemctl enable nginx
    ```

    ```shell
    systemctl start nginx
    ```

4. 验证服务状态

    ```shell
    systemctl status nginx
    ```
